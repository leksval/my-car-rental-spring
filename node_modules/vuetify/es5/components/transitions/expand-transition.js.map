{"version":3,"sources":["../../../src/components/transitions/expand-transition.js"],"names":[],"mappings":";;;;;;8BAAiD;AAAA,QAAxB,mBAAwB,uEAAF,EAAE;;AAC/C,WAAO;AACL,mBADK,uBACQ,EADR,EACU;AACb,eAAG,OAAH,GAAa,GAAG,UAAhB;AACA,eAAG,aAAH,GAAmB;AACjB,4BAAY,GAAG,KAAH,CAAS,UADJ;AAEjB,4BAAY,GAAG,KAAH,CAAS,UAFJ;AAGjB,0BAAU,GAAG,KAAH,CAAS,QAHF;AAIjB,wBAAQ,GAAG,KAAH,CAAS;AAJA,aAAnB;AAMD,SATI;AAWL,aAXK,iBAWE,EAXF,EAWI;AACP,gBAAM,eAAe,GAAG,aAAxB;AACA,eAAG,KAAH,CAAS,WAAT,CAAqB,YAArB,EAAmC,MAAnC,EAA2C,WAA3C;AACA,eAAG,KAAH,CAAS,UAAT,GAAsB,QAAtB;AACA,gBAAM,SAAY,GAAG,YAAf,OAAN;AACA,eAAG,KAAH,CAAS,UAAT,GAAsB,aAAa,UAAnC;AACA,eAAG,KAAH,CAAS,QAAT,GAAoB,QAApB;AACA,eAAG,KAAH,CAAS,MAAT,GAAkB,CAAlB;AACA,iBAAK,GAAG,YAAR,CARO,CAQc;AACrB,eAAG,KAAH,CAAS,UAAT,GAAsB,aAAa,UAAnC;AAEA,mCAAuB,GAAG,OAA1B,IAAqC,GAAG,OAAH,CAAW,SAAX,CAAqB,GAArB,CAAyB,mBAAzB,CAArC;AAEA,kCAAsB,YAAK;AACzB,mBAAG,KAAH,CAAS,MAAT,GAAkB,MAAlB;AACD,aAFD;AAGD,SA3BI;;AA6BL,oBAAY,WA7BP;AA8BL,wBAAgB,WA9BX;AAgCL,aAhCK,iBAgCE,EAhCF,EAgCI;AACP,eAAG,aAAH,GAAmB;AACjB,0BAAU,GAAG,KAAH,CAAS,QADF;AAEjB,wBAAQ,GAAG,KAAH,CAAS;AAFA,aAAnB;AAKA,eAAG,KAAH,CAAS,QAAT,GAAoB,QAApB;AACA,eAAG,KAAH,CAAS,MAAT,GAAqB,GAAG,YAAxB;AAEA,kCAAsB;AAAA,uBAAM,GAAG,KAAH,CAAS,MAAT,GAAkB,CAAxB;AAAA,aAAtB;AACD,SA1CI;;AA4CL,8BA5CK;AA6CL,wBAAgB;AA7CX,KAAP;AAgDA,aAAS,UAAT,CAAqB,EAArB,EAAuB;AACrB,+BAAuB,GAAG,OAA1B,IAAqC,GAAG,OAAH,CAAW,SAAX,CAAqB,MAArB,CAA4B,mBAA5B,CAArC;AACA,oBAAY,EAAZ;AACD;AACF,C;;AAED,SAAS,WAAT,CAAsB,EAAtB,EAAwB;AACtB,OAAG,KAAH,CAAS,QAAT,GAAoB,GAAG,aAAH,CAAiB,QAArC;AACA,OAAG,KAAH,CAAS,MAAT,GAAkB,GAAG,aAAH,CAAiB,MAAnC;AACA,WAAO,GAAG,aAAV;AACD","sourcesContent":["export default function (expandedParentClass = '') {\n  return {\n    beforeEnter (el) {\n      el._parent = el.parentNode\n      el._initialStyle = {\n        transition: el.style.transition,\n        visibility: el.style.visibility,\n        overflow: el.style.overflow,\n        height: el.style.height\n      }\n    },\n\n    enter (el) {\n      const initialStyle = el._initialStyle\n      el.style.setProperty('transition', 'none', 'important')\n      el.style.visibility = 'hidden'\n      const height = `${el.offsetHeight}px`\n      el.style.visibility = initialStyle.visibility\n      el.style.overflow = 'hidden'\n      el.style.height = 0\n      void el.offsetHeight // force reflow\n      el.style.transition = initialStyle.transition\n\n      expandedParentClass && el._parent && el._parent.classList.add(expandedParentClass)\n\n      requestAnimationFrame(() => {\n        el.style.height = height\n      })\n    },\n\n    afterEnter: resetStyles,\n    enterCancelled: resetStyles,\n\n    leave (el) {\n      el._initialStyle = {\n        overflow: el.style.overflow,\n        height: el.style.height\n      }\n\n      el.style.overflow = 'hidden'\n      el.style.height = `${el.offsetHeight}px`\n\n      requestAnimationFrame(() => el.style.height = 0)\n    },\n\n    afterLeave,\n    leaveCancelled: afterLeave\n  }\n\n  function afterLeave (el) {\n    expandedParentClass && el._parent && el._parent.classList.remove(expandedParentClass)\n    resetStyles(el)\n  }\n}\n\nfunction resetStyles (el) {\n  el.style.overflow = el._initialStyle.overflow\n  el.style.height = el._initialStyle.height\n  delete el._initialStyle\n}\n"],"sourceRoot":""}